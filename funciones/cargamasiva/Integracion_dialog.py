# -*- coding: utf-8 -*-
"""
/***************************************************************************
 IntegracionDialog
                                 A QGIS plugin
 Integracion
 Generated by Plugin Builder: http://g-sherman.github.io/Qgis-Plugin-Builder/
                             -------------------
        begin                : 2018-06-14
        git sha              : $Format:%H$
        copyright            : (C) 2018 by Integracion
        email                : Integracion
 ***************************************************************************/

/***************************************************************************
 *                                                                         *
 *   This program is free software; you can redistribute it and/or modify  *
 *   it under the terms of the GNU General Public License as published by  *
 *   the Free Software Foundation; either version 2 of the License, or     *
 *   (at your option) any later version.                                   *
 *                                                                         *
 ***************************************************************************/
"""

import os

from PyQt5 import uic
from PyQt5 import QtWidgets
from PyQt5.QtWidgets import *
from PyQt5.QtCore import Qt
from qgis.utils import iface


FORM_CLASS, _ = uic.loadUiType(os.path.join(
    os.path.dirname(__file__), 'Integracion_dialog_base.ui'))


class IntegracionDialog(QtWidgets.QDialog, FORM_CLASS):
	def __init__(self, parent=None):
		super(IntegracionDialog, self).__init__(parent, \
            flags=Qt.WindowMinimizeButtonHint|Qt.WindowCloseButtonHint)
		self.setupUi(self)
		
		
	
	#def closeEvent(self, evnt):
		#mensaje = "Si cierras la ventana perderas cualquier elemento no guardado... deseas continuar?"
		#respuesta = QMessageBox.question(iface.mainWindow(), "Cancelar integracion", mensaje, QMessageBox.Yes, QMessageBox.No)
		#QSettings().setValue('integrando', 'False')
		
		#if respuesta == QMessageBox.Yes:
		#	from .Integracion import Integracion
		#	self.plugin = Integracion(iface)
		
		#	self.plugin.vaciarCapa('manzana')
		#	self.plugin.vaciarCapa('predios.geom')
		#	self.plugin.vaciarCapa('predios.num')
		#	self.plugin.vaciarCapa('construcciones')
		#	self.plugin.vaciarCapa('horizontales.geom')
		#	self.plugin.vaciarCapa('horizontales.num')
		#	self.plugin.vaciarCapa('verticales')
		#	self.plugin.vaciarCapa('cves_verticales')
		#else:
		#	evnt.ignore()
	
